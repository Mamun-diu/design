<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">

    <title>Design</title>
    <style>
        .menu ul{
            list-style: none;
            background: #111;
            margin: 0;
            padding: 0;
            border-top: 2px solid #f00;
        }
        .menu li{
            float: left;
            padding: 7px 15px;
            cursor: pointer;
            background: #222;
            color: #fff;
            border-right: 1px solid #555;
            border-left: 1px solid #333;
        }
        .menu li:last-child{
            background: #000;
            border-bottom: 2px solid #f00;
            padding: 6px 15px;
        }
        #staticBackdrop{
            display: none;
        }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Design</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">All</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">HTML</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Bootstrap</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Javascript</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Parallax</a>
                </li>
                
            </ul>
            
        </div>
        </div>
    </nav>
    <section class="container">
        <div class="row my-3">
            
        </div>
    </section>

    <!-- Template -->

    <div class="design d-none" 
        data-title="2D to 3D" 
        data-link="./html/2d-to-3d/index.html"
        data-img="./image/2d-to-3d.png"
        data-html="./html/2d-to-3d/html-code.html"
        data-css="./html/2d-to-3d/css-code.html"
    ></div>

    <div class="design d-none" 
        data-title="Glass Effect" 
        data-link="./html/glass-effect/index.html"
        data-img="./image/glass-effect.png"
        data-html="./html/glass-effect/html-code.html"
        data-css="./html/glass-effect/css-code.html"
    ></div>

    <div class="design d-none" 
        data-title="Split Image on hover" 
        data-link="./html/split-image/index.html"
        data-img="./image/split-image.png"
        data-html="./html/split-image/html-code.html"
        data-css="./html/split-image/css-code.html"
    ></div>
    <div class="design d-none" 
        data-title="Moon Light" 
        data-link="./parallax/simple-parallax-scrolling/index.html"
        data-img="./image/moon-light.png"
        data-html="./parallax/simple-parallax-scrolling/html-code.html"
        data-css="./parallax/simple-parallax-scrolling/css-code.html"
    ></div>

    <div class="design d-none" 
        data-title="Transparent Text Effect" 
        data-link="./html/transparent-text-effect/index.html"
        data-img="./image/transparent-text-effect.png"
        data-html="./html/transparent-text-effect/html-code.html"
        data-css="./html/transparent-text-effect/css-code.html"
    ></div>

    
   
  



  <!-- Modal -->
  <div class="custom-modal" id="staticBackdrop" >
    <span>X</span>
    <div class="custom-dialog">
        <div class="menu">
            <ul>
                <li>HTML</li>
                <li>CSS</li>
                <li>LIVE</li>
            </ul>
        </div>
      <iframe src="" frameborder="0"></iframe>
    </div>
  </div>

    <div class="loader">
        <div class="progresss">
            <svg class="progresss-circle" width="200px" height="200px" xmlns="http://www.w3.org/2000/svg">
            <circle class="progresss-circle-back"
                    cx="80" cy="80" r="74"></circle>
                <circle class="progresss-circle-prog"
                        cx="80" cy="80" r="74"></circle>
            </svg>
            <div class="progresss-text" data-progresss="0">0%</div>
        </div>	
    </div>



    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    <script src="./resloader.js"></script>
    <script>
        
        var imgData = []
        $(document).ready(function(){
            $(".design").each(function(item){
                var title = $(this).data('title');
                var link = $(this).data('link');
                var img = $(this).data('img');
                var dataHtml = $(this).data('html');
                var dataCSS = $(this).data('css');
                imgData.push(img);
                
                $('.row').prepend(
                    `
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3 my-3">
                        <div class="box">
                            <div class="card">
                                <div class="card-body m-0 p-0">
                                    <img style="width: 100%; height: 100%;" src="${img}">
                                </div>
                                <div class="card-footer text-center" >
                                    ${title}
                                </div>
                            </div>
                            <div class="view">
                                <button data-html="${dataHtml}" data-css="${dataCSS}"  data-link="${link}" class="button btn btn-primary" >Click to Preview</button>
                            </div>
                        </div>
                    </div>
                    `
                )
            })

            $('.menu li').click(function(){
                $('.menu li').css({'background':'#222','border-bottom':'none','padding':'7px 15px'});
                $(this).css({'background':'#000','border-bottom':'2px solid #f00','padding':'6px 15px'});
            })
            $('.button').click(function(){
                $('.menu li').css({'background':'#222','border-bottom':'none','padding':'7px 15px'});
                $('.menu li:nth-child(3)').css({'background':'#000','border-bottom':'2px solid #f00','padding':'6px 15px'});
            
                $("#staticBackdrop").show();
                var link = $(this).data('link');
                $('iframe').attr('src',link);

                var dataHtml = $(this).data('html');
                var dataCSS = $(this).data('css');

                $('.menu li:nth-child(1)').attr('data-html',dataHtml);
                $('.menu li:nth-child(2)').attr('data-css',dataCSS);
                $('.menu li:nth-child(3)').attr('data-links',link);

                var elem = document.documentElement;
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.webkitRequestFullscreen) { /* Safari */
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE11 */
                    elem.msRequestFullscreen();
                }
                $('body').css({'overflow':'hidden'})
                

            })


            $(".custom-modal span").click(function(){
                $("#staticBackdrop").hide();
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) { /* Safari */
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE11 */
                    document.msExitFullscreen();
                }
                $('body').css({'overflow':'auto'})
            })
        })
    </script>
    <script>
        document.querySelector('.menu li:nth-child(1)').addEventListener('click',function(){
            document.querySelector('iframe').setAttribute('src',this.getAttribute('data-html'));
        })
        document.querySelector('.menu li:nth-child(2)').addEventListener('click',function(){
            document.querySelector('iframe').setAttribute('src',this.getAttribute('data-css'));
        })
        document.querySelector('.menu li:nth-child(3)').addEventListener('click',function(){
            document.querySelector('iframe').setAttribute('src',this.getAttribute('data-links'));
        })

    </script>
    
    <script>
         
        
        $(document).ready(function(){
            setTimeout(() => {
                const options = {
                    resources: imgData, //resources expected a JSON or Array
                    onStart: function(total) {
                        // console.log('onStart:' + total)
                        // document.querySelector(".status > span").innerHTML = 'onStart'
                        
                    },
                    onProgress: function(currentIndex, total) {
                        // console.log('onProgress:' + currentIndex + '/' + total)
                        // document.querySelector(".status > span").innerHTML = 'onProgress'
                        // document.querySelector(".division > span").innerHTML = currentIndex + '/' + total
                        // document.querySelector(".percent > span").innerHTML = Math.floor((currentIndex / total) * 100) + '%'
                        // document.querySelector(".progress").style.width = Math.floor((currentIndex / total) * 100) + '%'


                        var rand = Math.floor((currentIndex / total) * 100);
                        var x = document.querySelector('.progresss-circle-prog');
                        x.style.strokeDasharray = (rand * 4.65) + ' 999';
                        var el = document.querySelector('.progresss-text');
                        el.innerHTML =  rand+'%';
                    },
                    onComplete: function(total,result) {
                        // console.log('onComplete:' + total)
                        // console.log(result)
                        // document.querySelector(".status > span").innerHTML = 'onComplete'
                        $('.loader').css({'transform':'scale(0)'})
                        $('body').css({'overflow':'auto'})
                    }
                }

                resloader(options)
            }, 100);
        })
        
    </script>
    
  </body>
</html>